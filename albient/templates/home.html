{% extends 'base.html' %}

{% block content %}
  <h1>View Questions</h1>

  <div class="parent">
    <div class="view_questions">
      <form method="get" action="{{ url_for('home') }}" class="sort-form">
        <label for="sort_by">Sort by:</label>
        <select id="sort_by" name="sort_by" onchange="this.form.submit()">
            <option value="id" {% if request.args.get('sort_by') == 'id' %}selected{% endif %}>Newest</option>
            <option value="popularity" {% if request.args.get('sort_by') == 'popularity' %}selected{% endif %}>Popularity</option>
            <option value="comments" {% if request.args.get('sort_by') == 'comments' %}selected{% endif %}>Answers</option>
        </select>
      </form>  

<form method="get" action="{{ url_for('home') }}">
    <label for="sort_by">Sort by:</label>
    
    <select id="sort_by" name="sort_by" onchange="this.form.submit()">
        <option value="id" {% if request.args.get('sort_by') == 'id' %}selected{% endif %}>Newest</option>
        <option value="popularity" {% if request.args.get('sort_by') == 'popularity' %}selected{% endif %}>Popularity</option>
        <option value="comments" {% if request.args.get('sort_by') == 'comments' %}selected{% endif %}>Answers</option>
    </select>

</form>

{% for question in questions %}
<div class="question">
    <div class="vote-buttons">
        <a class="vote-button upvote-icon" href="{{url_for('upvote_post', post_id=question.id, del=1) }}">&#9650;</a>
        <a class="vote-button downvote-icon" href="{{url_for('upvote_post', post_id=question.id, del=-1) }}">&#9660;</a>
    </div>

    <div class="ask_questions">
        <h2>Ask a Question</h2>

        <button><a href="{{ url_for('ask') }}">Ask</a></button>
    </div>
  </div>

{% endblock %}